import{_ as g,C as l,p,a as f,b as _,A as v,d as h,D as m,r,c as C,e as x,f as D,g as b,o as k}from"./index-0bc2e7ab.js";l.register(p,f,_,v);l.register({id:"centerTextPlugin",beforeDraw:function(t){if(t.config.options.elements.center){const{width:o,height:d,ctx:e}=t;e.restore();const a=(d/114).toFixed(2);e.font=`${a}em sans-serif`,e.textBaseline="middle";const n=t.config.options.elements.center.text,s=Math.round((o-e.measureText(n).width)/2),c=d/2;e.fillText(n,s,c),e.save()}}});const $=h({name:"DonutChart",components:{DoughnutChart:m},setup(){const t=r({labels:["السباكة","الكهرباء","النجارة"],datasets:[{data:[100,80,20],backgroundColor:["#D3D3D3","#C0B283","#355C7D"],hoverBackgroundColor:["#D3D3D3","#C0B283","#355C7D"]}]}),o=r({responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return`${e.label}: ${e.raw}`}}},centerTextPlugin:!0},cutout:"70%",elements:{center:{text:"20%"}}});return{chartData:t,chartOptions:o,updateCenterText:e=>{const a=e.target.__vue__.chartInstance||e.target.__vue__.$refs.doughnutChart.chartInstance,n=a.getElementsAtEventForMode(e,"nearest",{intersect:!0},!0);if(n.length){const s=n[0].index,c=a.data.datasets[0],i=a.data.labels[s],u=c.data[s];o.value.elements.center.text=`${i}: ${u}`,a.update()}}}}}),y=b('<div class="legend" data-v-9f61de30><div class="legend-item" data-v-9f61de30><span class="legend-color" style="background-color:#000000;" data-v-9f61de30></span> الكل </div><div class="legend-item" data-v-9f61de30><span class="legend-color" style="background-color:#d3d3d3;" data-v-9f61de30></span> السباكة </div><div class="legend-item" data-v-9f61de30><span class="legend-color" style="background-color:#c0b283;" data-v-9f61de30></span> الكهرباء </div><div class="legend-item" data-v-9f61de30><span class="legend-color" style="background-color:#355c7d;" data-v-9f61de30></span> النجارة </div></div>',1);function T(t,o,d,e,a,n){const s=C("DoughnutChart");return k(),x("div",null,[D(s,{chartData:t.chartData,options:t.chartOptions,ref:"doughnutChart",onClick:t.updateCenterText},null,8,["chartData","options","onClick"]),y])}const P=g($,[["render",T],["__scopeId","data-v-9f61de30"]]);export{P as default};
